(this["webpackJsonpsimple-games"]=this["webpackJsonpsimple-games"]||[]).push([[0],{22:function(e,t,a){e.exports=a(33)},27:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(19),o=a.n(l),u=(a(27),a(8)),i=function(){return c.a.createElement("header",{className:"App-header"},c.a.createElement("div",{className:"title"},"\uac8c\uc784\ub9e8"),c.a.createElement("nav",null,c.a.createElement("ul",{className:"nav-list"},c.a.createElement("li",null,c.a.createElement(u.b,{to:"/tictactoe"},"\ud2f1\ud14d\ud1a0")),c.a.createElement("li",null,c.a.createElement(u.b,{to:"/googoodan"},"\uad6c\uad6c\ub2e8")),c.a.createElement("li",null,c.a.createElement(u.b,{to:"/mine"},"\uc9c0\ub8b0\ucc3e\uae30")))))},s=a(6),E=a(5),m=a(10),b=a(7),d=Object(r.memo)((function(e){var t=e.rowIndex,a=e.cellIndex,n=e.dispatch,l=e.cellData;console.log("td");var o=Object(r.useRef)([]);Object(r.useEffect)((function(){console.log([t===o.current[0],a===o.current[1],n===o.current[2],l===o.current[3]]),console.log(l),o.current=[t,a,n,l]}),[t,a,n,l]);var u=Object(r.useCallback)((function(){console.log("onClickTd",l),l||n(N(t,a))}),[l]);return c.a.createElement("td",{onClick:u},l)})),f=Object(r.memo)((function(e){var t=e.rowIndex,a=e.rowData,n=e.dispatch;console.log("tr render");var l=Object(r.useRef)([]);return Object(r.useEffect)((function(){console.log([t===l.current[0],a===l.current[1],n===l.current[2]]),l.current=[t,a,n]}),[t,a,n]),c.a.createElement("tr",null,a.map((function(e,a){return c.a.createElement(d,{key:a,rowIndex:t,cellIndex:a,dispatch:n,cellData:e})})))})),O=Object(r.memo)((function(e){e.onClick;var t=e.tableData,a=e.dispatch;return c.a.createElement("table",null,c.a.createElement("thead",null),c.a.createElement("tbody",null,t.map((function(e,t){return c.a.createElement(f,{key:t,rowIndex:t,rowData:e,dispatch:a})}))))})),p={winner:"",turn:"O",tableData:[["","",""],["","",""],["","",""]],recentCell:[-1,-1]},N=function(e,t){return{type:"CLICK_CELL",row:e,cell:t}},h=function(e,t){switch(t.type){case"SET_WINNER":return Object(b.a)({},e,{winner:t.payload});case"CLICK_CELL":var a=Object(m.a)(e.tableData);return a[t.row]=Object(m.a)(a[t.row]),a[t.row][t.cell]=e.turn,Object(b.a)({},e,{tableData:a,recentCell:[t.row,t.cell]});case"CHANGE_TURN":return Object(b.a)({},e,{turn:"O"===e.turn?"X":"O"});case"RESET_GAME":return Object(b.a)({},e,{turn:"O",tableData:[["","",""],["","",""],["","",""]],recentCell:[-1,-1]});default:return e}},v=function(){var e=Object(r.useReducer)(h,p),t=Object(E.a)(e,2),a=t[0],n=t[1],l=a.tableData,o=a.winner,u=a.recentCell,i=a.turn;return Object(r.useEffect)((function(){var e=!1,t=Object(E.a)(u,2),a=t[0],r=t[1];if(!(a<0))if(l[a][0]===i&&l[a][1]===i&&l[a][2]===i&&(e=!0),l[0][r]===i&&l[1][r]===i&&l[2][r]===i&&(e=!0),l[0][0]===i&&l[1][1]===i&&l[2][2]===i&&(e=!0),l[0][2]===i&&l[1][1]===i&&l[2][0]===i&&(e=!0),e)n({type:"SET_WINNER",payload:i}),n({type:"RESET_GAME"});else{var c=!0;l.forEach((function(e){e.forEach((function(e){e||(c=!1)}))})),n(c?{type:"RESET_GAME"}:{type:"CHANGE_TURN"})}}),[u]),c.a.createElement("div",{className:"TicTacToe"},c.a.createElement(O,{onClick:function(){},tableData:l,dispatch:n}),o," \uc758 \uc2b9\ub9ac")},I=function(){return c.a.createElement("div",null,"\uad6c\uad6c\ub2e8 \uc774\ub2e4")},w=function(e){switch(e){case n.NORMAL:case n.MINE:return{background:"#444"};case n.OPENED:return{background:"white"};case n.FLAG_MINE:case n.FLAG:return{background:"red"};case n.QUESTION_MINE:case n.QUESTION:return{background:"blue"};default:return{background:"white"}}},j=function(e){var t=e.item,a=e.rowIndex,l=e.cellIndex,o=Object(r.useContext)(y).dispatch,u=Object(r.useCallback)((function(){switch(t){case n.NORMAL:case n.MINE:return void o(k(a,l));default:return}}),[t]),i=Object(r.useCallback)((function(e){e.preventDefault()}),[]);return c.a.createElement("td",{style:w(t),className:"Td",onClick:u,onContextMenu:i},function(e){switch(e){case n.NORMAL:return"";case n.MINE:return"X";case n.CLICKED_MINE:return"\ud391";case n.FLAG_MINE:case n.FLAG:return"!";case n.QUESTION_MINE:case n.QUESTION:return"?";default:return""}}(t))},C=function(e){var t=e.items,a=e.rowIndex;Object(r.useContext)(y).tableData;return c.a.createElement("tr",{className:"Tr"},t.map((function(e,t){return c.a.createElement(j,{key:t,item:e,rowIndex:a,cellIndex:t})})))},M=function(){var e=Object(r.useContext)(y).tableData;return c.a.createElement("div",{className:"Table"},c.a.createElement("table",null,c.a.createElement("thead",null),c.a.createElement("tbody",null,e.map((function(e,t){return c.a.createElement(C,{key:t,items:e,rowIndex:t})})))))},g=function(){var e=Object(r.useState)(-1),t=Object(E.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)(-1),o=Object(E.a)(l,2),u=o[0],i=o[1],s=Object(r.useState)(-1),m=Object(E.a)(s,2),b=m[0],d=m[1],f=Object(r.useContext)(y).dispatch,O=Object(r.useCallback)((function(e){n(e.target.value)}),[]),p=Object(r.useCallback)((function(e){i(e.target.value)}),[]),N=Object(r.useCallback)((function(e){d(e.target.value)}),[]),h=Object(r.useCallback)((function(){f(L({row:a,cell:u,mine:b}))}),[a,u,b]);return c.a.createElement("div",{className:"Form"},c.a.createElement("input",{type:"number",placeholder:"\uc138\ub85c",value:a,onChange:O}),c.a.createElement("input",{type:"number",placeholder:"\uac00\ub85c",value:u,onChange:p}),c.a.createElement("input",{type:"number",placeholder:"\uc9c0\ub8b0",value:b,onChange:N}),c.a.createElement("button",{type:"button",onClick:h},"\uc2dc\uc791"))};!function(e){e[e.MINE=0]="MINE",e[e.NORMAL=1]="NORMAL",e[e.QUESTION=2]="QUESTION",e[e.FLAG=3]="FLAG",e[e.QUESTION_MINE=4]="QUESTION_MINE",e[e.FLAG_MINE=5]="FLAG_MINE",e[e.CLICKED_MINE=6]="CLICKED_MINE",e[e.OPENED=7]="OPENED"}(n||(n={}));var D=function(e){for(var t=e.row,a=e.cell,r=e.mine,c=Array(t*a).fill("").map((function(e,t){return t})),l=[];c.length>t*a-r;){var o=c.splice(Math.floor(Math.random()*c.length),1)[0];l.push(o)}for(var u=[],i=0;i<t;i++){var s=[];u.push(s);for(var E=0;E<t;E++)s.push(n.NORMAL)}for(var m=0;m<l.length;m++){var b=Math.floor(l[m]/a),d=l[m]%a;u[b][d]=n.MINE}return console.log(u),u},A={tableData:[[]],timer:"",result:""},L=function(e){return{type:"START_GAME",row:e.row,cell:e.cell,mine:e.mine}},k=function(e,t){return{type:"OPEN_CELL",row:e,cell:t}},T=function(e,t){switch(t.type){case"START_GAME":var a={row:t.row,cell:t.cell,mine:t.mine};return Object(b.a)({},e,{tableData:D(a)});case"OPEN_CELL":var r=Object(m.a)(e.tableData);return r[t.row]=Object(m.a)(e.tableData[t.row]),r[t.row][t.cell]=n.OPENED,Object(b.a)({},e,{tableData:r});default:return e}},y=Object(r.createContext)({tableData:[[]],dispatch:function(){}}),_=function(){var e=Object(r.useReducer)(T,A),t=Object(E.a)(e,2),a=t[0],n=t[1],l=Object(r.useMemo)((function(){return{tableData:a.tableData,dispatch:n}}),[a.tableData]);return c.a.createElement(y.Provider,{value:l},c.a.createElement("div",{className:"Mine"},c.a.createElement(g,null),c.a.createElement("div",null,a.timer),a.tableData.length>0&&c.a.createElement(M,null),c.a.createElement("div",null,a.timer)))},x=function(){return c.a.createElement("main",{className:"App-main"},c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/tictactoe",component:v}),c.a.createElement(s.a,{path:"/googoodan",component:I}),c.a.createElement(s.a,{path:"/Mine",component:_}),c.a.createElement(s.a,{expact:!0,path:"/",component:v})))};var R=function(){return c.a.createElement(u.a,{basename:"/simple-games"},c.a.createElement("div",{className:"App"},c.a.createElement(i,null),c.a.createElement(x,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.ea830447.chunk.js.map