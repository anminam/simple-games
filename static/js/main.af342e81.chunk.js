(this["webpackJsonpsimple-games"]=this["webpackJsonpsimple-games"]||[]).push([[0],{22:function(e,t,a){e.exports=a(33)},27:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(19),o=a.n(l),u=(a(27),a(9)),i=function(){return c.a.createElement("header",{className:"App-header"},c.a.createElement("div",{className:"title"},"\uac8c\uc784\ub9e8"),c.a.createElement("nav",null,c.a.createElement("ul",{className:"nav-list"},c.a.createElement("li",null,c.a.createElement(u.b,{to:"/tictactoe"},"\ud2f1\ud14d\ud1a0")),c.a.createElement("li",null,c.a.createElement(u.b,{to:"/googoodan"},"\uad6c\uad6c\ub2e8")),c.a.createElement("li",null,c.a.createElement(u.b,{to:"/mine"},"\uc9c0\ub8b0\ucc3e\uae30")))))},E=a(8),s=a(7),b=a(2),m=a(5),O=Object(r.memo)((function(e){var t=e.rowIndex,a=e.cellIndex,n=e.dispatch,l=e.cellData;console.log("td");var o=Object(r.useRef)([]);Object(r.useEffect)((function(){console.log([t===o.current[0],a===o.current[1],n===o.current[2],l===o.current[3]]),console.log(l),o.current=[t,a,n,l]}),[t,a,n,l]);var u=Object(r.useCallback)((function(){console.log("onClickTd",l),l||n(w(t,a))}),[l]);return c.a.createElement("td",{onClick:u},l)})),d=Object(r.memo)((function(e){var t=e.rowIndex,a=e.rowData,n=e.dispatch;console.log("tr render");var l=Object(r.useRef)([]);return Object(r.useEffect)((function(){console.log([t===l.current[0],a===l.current[1],n===l.current[2]]),l.current=[t,a,n]}),[t,a,n]),c.a.createElement("tr",null,a.map((function(e,a){return c.a.createElement(O,{key:a,rowIndex:t,cellIndex:a,dispatch:n,cellData:e})})))})),f=Object(r.memo)((function(e){e.onClick;var t=e.tableData,a=e.dispatch;return c.a.createElement("table",null,c.a.createElement("thead",null),c.a.createElement("tbody",null,t.map((function(e,t){return c.a.createElement(d,{key:t,rowIndex:t,rowData:e,dispatch:a})}))))})),N={winner:"",turn:"O",tableData:[["","",""],["","",""],["","",""]],recentCell:[-1,-1]},w=function(e,t){return{type:"CLICK_CELL",row:e,cell:t}},I=function(e,t){switch(t.type){case"SET_WINNER":return Object(m.a)({},e,{winner:t.payload});case"CLICK_CELL":var a=Object(b.a)(e.tableData);return a[t.row]=Object(b.a)(a[t.row]),a[t.row][t.cell]=e.turn,Object(m.a)({},e,{tableData:a,recentCell:[t.row,t.cell]});case"CHANGE_TURN":return Object(m.a)({},e,{turn:"O"===e.turn?"X":"O"});case"RESET_GAME":return Object(m.a)({},e,{turn:"O",tableData:[["","",""],["","",""],["","",""]],recentCell:[-1,-1]});default:return e}},p=function(){var e=Object(r.useReducer)(I,N),t=Object(s.a)(e,2),a=t[0],n=t[1],l=a.tableData,o=a.winner,u=a.recentCell,i=a.turn;return Object(r.useEffect)((function(){var e=!1,t=Object(s.a)(u,2),a=t[0],r=t[1];if(!(a<0))if(l[a][0]===i&&l[a][1]===i&&l[a][2]===i&&(e=!0),l[0][r]===i&&l[1][r]===i&&l[2][r]===i&&(e=!0),l[0][0]===i&&l[1][1]===i&&l[2][2]===i&&(e=!0),l[0][2]===i&&l[1][1]===i&&l[2][0]===i&&(e=!0),e)n({type:"SET_WINNER",payload:i}),n({type:"RESET_GAME"});else{var c=!0;l.forEach((function(e){e.forEach((function(e){e||(c=!1)}))})),n(c?{type:"RESET_GAME"}:{type:"CHANGE_TURN"})}}),[u]),c.a.createElement("div",{className:"TicTacToe"},c.a.createElement(f,{onClick:function(){},tableData:l,dispatch:n}),o," \uc758 \uc2b9\ub9ac")},h=function(){return c.a.createElement("div",null,"\uad6c\uad6c\ub2e8 \uc774\ub2e4")},v=function(e){switch(e){case n.NORMAL:case n.MINE:return{background:"#444"};case n.OPENED:return{background:"white"};case n.FLAG_MINE:case n.FLAG:return{background:"red"};case n.QUESTION_MINE:case n.QUESTION:return{background:"blue"};default:return{background:"white"}}},j=function(e){var t=e.item,a=e.rowIndex,l=e.cellIndex,o=Object(r.useContext)(R),u=o.dispatch,i=o.halted,E=Object(r.useCallback)((function(){if(!i)switch(t){case n.NORMAL:return void u(T(a,l));case n.MINE:return void u(g(a,l));default:return}}),[t,i]),s=Object(r.useCallback)((function(e){if(e.preventDefault(),!i)switch(t){case n.NORMAL:case n.MINE:return void u(y(a,l));case n.FLAG:case n.FLAG_MINE:return void u(S(a,l));case n.QUESTION:case n.QUESTION_MINE:return void u(k(a,l));default:return}}),[t,i]);return c.a.createElement("td",{style:v(t),className:"Td",onClick:E,onContextMenu:s},function(e){switch(e){case n.NORMAL:return"";case n.MINE:return"X";case n.CLICKED_MINE:return"\ud391";case n.FLAG_MINE:case n.FLAG:return"!";case n.QUESTION_MINE:case n.QUESTION:return"?";default:return e||""}}(t))},M=function(e){var t=e.items,a=e.rowIndex;Object(r.useContext)(R).tableData;return c.a.createElement("tr",{className:"Tr"},t.map((function(e,t){return c.a.createElement(j,{key:t,item:e,rowIndex:a,cellIndex:t})})))},C=function(){var e=Object(r.useContext)(R).tableData;return c.a.createElement("div",{className:"Table"},c.a.createElement("table",null,c.a.createElement("thead",null),c.a.createElement("tbody",null,e.map((function(e,t){return c.a.createElement(M,{key:t,items:e,rowIndex:t})})))))},L=function(){var e=Object(r.useState)(-1),t=Object(s.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)(-1),o=Object(s.a)(l,2),u=o[0],i=o[1],E=Object(r.useState)(-1),b=Object(s.a)(E,2),m=b[0],O=b[1],d=Object(r.useContext)(R).dispatch,f=Object(r.useCallback)((function(e){n(e.target.value)}),[]),N=Object(r.useCallback)((function(e){i(e.target.value)}),[]),w=Object(r.useCallback)((function(e){O(e.target.value)}),[]),I=Object(r.useCallback)((function(){d(A({row:a,cell:u,mine:m}))}),[a,u,m]);return Object(r.useEffect)((function(){n(10),i(10),O(10),d(A({row:a,cell:u,mine:m}))}),[]),c.a.createElement("div",{className:"Form"},c.a.createElement("input",{type:"number",placeholder:"\uc138\ub85c",value:a,onChange:f}),c.a.createElement("input",{type:"number",placeholder:"\uac00\ub85c",value:u,onChange:N}),c.a.createElement("input",{type:"number",placeholder:"\uc9c0\ub8b0",value:m,onChange:w}),c.a.createElement("button",{type:"button",onClick:I},"\uc2dc\uc791"))};!function(e){e[e.MINE=-10]="MINE",e[e.NORMAL=-9]="NORMAL",e[e.QUESTION=-8]="QUESTION",e[e.FLAG=-7]="FLAG",e[e.QUESTION_MINE=-6]="QUESTION_MINE",e[e.FLAG_MINE=-5]="FLAG_MINE",e[e.CLICKED_MINE=-4]="CLICKED_MINE",e[e.OPENED=-3]="OPENED"}(n||(n={}));var D=function(e){for(var t=e.row,a=e.cell,r=e.mine,c=Array(t*a).fill("").map((function(e,t){return t})),l=[];c.length>t*a-r;){var o=c.splice(Math.floor(Math.random()*c.length),1)[0];l.push(o)}for(var u=[],i=0;i<t;i++){var E=[];u.push(E);for(var s=0;s<t;s++)E.push(n.NORMAL)}for(var b=0;b<l.length;b++){var m=Math.floor(l[b]/a),O=l[b]%a;u[m][O]=n.MINE}return console.log(u),u},_={tableData:[[]],timer:"",result:"",halted:!1},A=function(e){return{type:"START_GAME",row:e.row,cell:e.cell,mine:e.mine}},g=function(e,t){return{type:"CLICK_MINE",row:e,cell:t}},T=function(e,t){return{type:"OPEN_CELL",row:e,cell:t}},y=function(e,t){return{type:"NORMAL_CELL",row:e,cell:t}},S=function(e,t){return{type:"FLAG_CELL",row:e,cell:t}},k=function(e,t){return{type:"QUESTION_CELL",row:e,cell:t}},G=function(e,t){var a=null;switch(t.type){case"START_GAME":var r={row:t.row,cell:t.cell,mine:t.mine};return Object(m.a)({},e,{tableData:D(r)});case"OPEN_CELL":(a=Object(b.a)(e.tableData))[t.row]=Object(b.a)(e.tableData[t.row]);var c=[];a[t.row-1]&&(c=c.concat(a[t.row-1][t.cell-1],a[t.row-1][t.cell],a[t.row-1][t.cell+1])),c=c.concat(a[t.row][t.cell-1],a[t.row][t.cell+1]),a[t.row+1]&&(c=c.concat(a[t.row+1][t.cell-1],a[t.row+1][t.cell],a[t.row+1][t.cell+1]));var l=c.filter((function(e){return[n.MINE,n.FLAG_MINE,n.QUESTION_MINE].includes(e)})).length;return a[t.row][t.cell]=l,console.log(l),Object(m.a)({},e,{tableData:a});case"CLICK_MINE":return(a=Object(b.a)(e.tableData))[t.row]=Object(b.a)(e.tableData[t.row]),a[t.row][t.cell]=n.CLICKED_MINE,Object(m.a)({},e,{tableData:a,halted:!0});case"NORMAL_CELL":return(a=Object(b.a)(e.tableData))[t.row]=Object(b.a)(e.tableData[t.row]),a[t.row][t.cell]===n.MINE?a[t.row][t.cell]=n.FLAG_MINE:a[t.row][t.cell]=n.FLAG,Object(m.a)({},e,{tableData:a});case"FLAG_CELL":return(a=Object(b.a)(e.tableData))[t.row]=Object(b.a)(e.tableData[t.row]),a[t.row][t.cell]===n.FLAG_MINE?a[t.row][t.cell]=n.QUESTION_MINE:a[t.row][t.cell]=n.QUESTION,Object(m.a)({},e,{tableData:a});case"QUESTION_CELL":return(a=Object(b.a)(e.tableData))[t.row]=Object(b.a)(e.tableData[t.row]),a[t.row][t.cell]===n.QUESTION_MINE?a[t.row][t.cell]=n.MINE:a[t.row][t.cell]=n.NORMAL,Object(m.a)({},e,{tableData:a});default:return e}},R=Object(r.createContext)({tableData:[[]],dispatch:function(){},halted:!1}),x=function(){var e=Object(r.useReducer)(G,_),t=Object(s.a)(e,2),a=t[0],n=t[1],l=Object(r.useMemo)((function(){return{tableData:a.tableData,dispatch:n,halted:a.halted}}),[a.tableData]);return c.a.createElement(R.Provider,{value:l},c.a.createElement("div",{className:"Mine"},c.a.createElement(L,null),c.a.createElement("div",null,a.timer),a.tableData.length>0&&c.a.createElement(C,null),c.a.createElement("div",null,a.timer)))},U=function(){return c.a.createElement("main",{className:"App-main"},c.a.createElement(E.c,null,c.a.createElement(E.a,{path:"/tictactoe",component:p}),c.a.createElement(E.a,{path:"/googoodan",component:h}),c.a.createElement(E.a,{path:"/Mine",component:x}),c.a.createElement(E.a,{expact:!0,path:"/",component:p})))};var F=function(){return c.a.createElement(u.a,{basename:"/simple-games"},c.a.createElement("div",{className:"App"},c.a.createElement(i,null),c.a.createElement(U,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.af342e81.chunk.js.map